{% extends 'base.html.twig' %}

{% block title %}Liste de mes élève{% endblock %}

{% block body %}
        <div class="row">
            <div class="col m-5">
                <div class="card">
                    <div class="card-header bg-white flex-grow-0 d-flex">
                        <h1 class="text-uppercase primary-color mb-0"> <i class="bi bi-people-fill" class="h1"></i> Élèves</h1>
                        <div id="filters-container" class="ms-auto align-self-center"></div>
                    </div>
                    <div class="card-body">
                        <div id="datatables-clients_wrapper" class="dataTables_wrapper dt-bootstrap5 no-footer">
                            <div class="row">
                                <div class="col-sm-12">
                                    <table id="table_id" class="table is-striped my-0 dataTable cell-border compact stripe hover table-custom">
                                        <thead>
                                            <tr role="row">
                                                <th  tabindex="0" rowspan="1" colspan="1">
                                                    
                                                </th>
                                                <th tabindex="0" rowspan="1" colspan="1">
                                                    Nom
                                                </th>
                                                <th tabindex="0" rowspan="1" colspan="1">
                                                    Téléphone
                                                </th>
                                                <th tabindex="0" rowspan="1" colspan="1" >
                                                    Email
                                                </th>
                                                <th tabindex="0" rowspan="1" colspan="1" >
                                                    Niveau
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for student in userStudent %}
                                                <tr class="table-row" data-href="">
                                                    <a href="">
                                                        <td class="dtr-control"><img src="{{ asset('/uploads/profile_pics/' ~ student.thumbnail) }}" width="60" height="60" class="rounded-circle my-n1" alt="Avatar"></td>
                                                        <td class="sorting_1">{{ student.firstname }} {{ student.lastname }}</td>
                                                        <td>{{ student.phonenumber }}</td>
                                                        <td>{{ student.email }}</td>
                                                        <td>
                                                            <span>{{ student.studentClasses.name }}</span>
                                                        </td>
                                                    </a>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
{% endblock %}

{% block javascripts %}
<script>
    $(document).ready( function () {
        $('#table_id').DataTable({
            language: {
                processing:     "Traitement en cours...",
                search:         "",
                lengthMenu:    "Afficher _MENU_ &eacute;l&eacute;ments",
                info:           "",
                infoEmpty:      "",
                infoFiltered:   "(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)",
                infoPostFix:    "",
                loadingRecords: "Chargement en cours...",
                zeroRecords:    "Aucun &eacute;l&eacute;ment &agrave; afficher",
                emptyTable:     "Aucune donnée disponible dans le tableau",
                paginate: {
                    first:      "Premier",
                    previous:   "Pr&eacute;c&eacute;dent",
                    next:       "Suivant",
                    last:       "Dernier"
                },
                aria: {
                    sortAscending:  ": activer pour trier la colonne par ordre croissant",
                    sortDescending: ": activer pour trier la colonne par ordre décroissant"
                }
            }
        });
        $('#table_id_filter').appendTo('#filters-container');
        $(".table-row").click(function() {
            window.location = $(this).data("href");
        });
    } );
</script


{% endblock %}
